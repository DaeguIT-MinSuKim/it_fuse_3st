<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.dgit.donghun2.dao.SellInfoMapper">
	
<!-- 	<sql id="selectSql">SELECT saleDate, quantity
					FROM sellInfo</sql>
		 -->				
	<sql id="SelectForTableSql">SELECT s.scode, quantity,saleDate,unitprice,sellprice, disprice
					FROM sellInfo s join sellInfoDetail sd
					on s.scode = sd.scode </sql>
	<resultMap type="SellInfo" id="SellInfoResult">
		<id property ="scode" column="scode"/>
		<result property="quantity" column="quantity"/>
		<result property="saleDate" column="saleDate"/>
	</resultMap>
	<resultMap type="SellInfo" id="SellInfoResultex" extends="SellInfoResult">
		<result property="sellInfoDetail.unitprice" column="unitprice"/>
		<result property="sellInfoDetail.sellprice" column="sellprice"/>
		<result property="sellInfoDetail.disprice" column="disprice"/>
	</resultMap>
			
	<select id="selectSellInfoByAll" resultMap="SellInfoResultex">
		<include refid="SelectForTableSql"/>
		
	</select>
	
<!--	<update id="updateSellInfo" parameterType="SellInfo">
		UPDATE SellInfo
		<set>
			<if test="name != null">
				name = #{name},	</if>   
			<if test="salePrice != null">
				saleprice = #{salePrice},	</if> 
			<if test="origiPrice != null">
				origiprice = #{origiPrice},	</if> 
		</set>
		<include refid="whereSql"></include>
	</update>
 	<delete id="deleteSellInfo" parameterType="SellInfo">
		delete from SellInfo
		<include refid="whereSql"/>
	</delete> 

	
 -->
</mapper>